# 服務單管理模組 - 線上表單

線上表單是服務管理模組的其中一個項目，主要是客戶如果是來自於線上，建立完服務單後，會需要透過線上簽名的方式來完成合約的簽署。此模組包含以下主要功能：

## 功能1: 發送簽章請求
當使用者建立收購單或寄賣單後，用戶會按一個按鈕來發送簽章請求給客戶，讓客戶能夠在線上完成簽名。

### 功能流程步驟

### 功能畫面
1. 使用者在服務單詳情頁面的簽名紀錄區塊，當如果是線上的方式時，會出現「發送簽章請求」按鈕。
會打API
POST /service-orders/{serviceOrderId}/signatures/online
```
{
  "success": true,
  "code": "SUCCESS",
  "message": "簽章請求已成功發送",
  "data": {
    "signatureRecordId": "57f59a0f-79be-4fbb-a3fe-99c9ace722f1",
    "dropboxSignRequestId": "64208b721799f887f835fdebd934d43c2b3d2d86",
    "signatureUrl": "https://app.hellosign.com/sign/64208b721799f887f835fdebd934d43c2b3d2d86",
    "sentAt": "2026-01-09T17:03:32.7953395Z",
    "expiresAt": "2026-02-08T17:03:32.7953395Z",
    "message": "簽章請求已成功發送"
  },
  "timestamp": "2026-01-09T17:03:35.3548735Z",
  "traceId": "0HNIFK01JN7DM:00000001"
}
```
2. 取回結果後，重新取回整的ServiceOrder詳情，並顯示簽章請求的狀態，如果簽章狀態不是"SIGNED"並出現一個新的按鈕「重新發送簽章請求」，或是複製「簽章連結」的按鈕。


## 新增欄位

1. 新增線上簽章的文件
    命名為 BUYBACK_CONTRACT_WITH_ONE_TIME_TRADE
